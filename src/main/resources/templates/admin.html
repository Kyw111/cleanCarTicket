<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <script src="./js/gasStation.js"></script>-->
<!--    <title>관리자 페이지</title>-->
<!--</head>-->
<!--<body>-->

<!--    <h3>나의 주유소 목록</h3>-->

<!--    <div>-->
<!--        <ul id="gas-station-list"></ul>-->
<!--    </div>-->

<!--    <br>-->
<!--    <form>-->
<!--        <div class="mb-3">-->
<!--            <label for="gas-station-name" class="col-form-label">주유소명</label>-->
<!--            <input type="text" class="form-control" id="gas-station-name">-->
<!--        </div>-->
<!--        <div class="mb-3">-->
<!--            <label for="gas-station-address" class="col-form-label">주유소 주소</label>-->
<!--            <textarea class="form-control" id="gas-station-address"></textarea>-->
<!--        </div>-->
<!--    </form>-->
<!--    <button type="button" class="btn btn-sm btn-outline-primary" id="save-gas-station-btn">추가하기</button>-->


<!--<script>-->

<!--    const reqUrl = "http://localhost:8080/gas-station";-->
<!--    fetch(reqUrl)-->
<!--    .then(response => response.json())-->
<!--    .then((data) => {-->
<!--        var content = data.content;-->
<!--        const ulTag = document.getElementById("gas-station-list");-->

<!--        for(var i = 0; i < content.length; i++){-->
<!--            const li = document.createElement("li");-->
<!--            const a = document.createElement("a");-->

<!--            a.setAttribute('id','gas-station');-->
<!--            a.setAttribute('name', content[i].gasStationId);-->
<!--            a.setAttribute('href', 'http://localhost:8080/map/'+content[i].gasStationId);-->

<!--            a.append(content[i].gasStationName);-->
<!--            li.append(a);-->
<!--            ulTag.append(li);-->
<!--        }-->
<!--    });-->

<!--    const createBtn = document.getElementById('save-gas-station-btn');-->
<!--    createBtn.addEventListener('click', () => {-->

<!--    const postContent = {-->
<!--        gasStationName : document.getElementById('gas-station-name').value,-->
<!--        gasStationAddress : document.getElementById('gas-station-address').value-->
<!--    };-->

<!--    const list = document.getElementById('gas-station-list');-->
<!--    const newLi = document.createElement("li");-->
<!--    const newA = document.createElement("a");-->

<!--    const postReqUrl = "http://localhost:8080/gas-station";-->
<!--    fetch(postReqUrl, {-->
<!--            method : "POST",-->
<!--            body : JSON.stringify(postContent),-->
<!--            headers : {-->
<!--                "Content-Type" : "application/json"-->
<!--            }-->
<!--        })-->
<!--        .then(-->
<!--            newA.append(postContent.gasStationName),-->
<!--            newLi.append(newA),-->
<!--            list.appendChild(newLi)-->
<!--        );-->
<!--    });-->

<!--function openCreateForm(){-->
<!--    const visibleStatus = document.getElementById('createForm').className;-->
<!--    if(visibleStatus === 'visible') document.getElementById('createForm').className = 'invisible';-->
<!--    else document.getElementById('createForm').className = 'visible';-->
<!--}-->

<!--</script>-->

<!--</body>-->
<!--</html>-->

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./js/gasStation.js"></script>
    <title>관리자 페이지</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>

<h3>나의 주유소 목록</h3>


<!--<table class="table">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th scope="col">등록번호</th>-->
<!--        <th scope="col">주유소명</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr>-->
<!--        <th scope="row">1</th>-->
<!--        <td>Mark</td>-->
<!--        <td>Otto</td>-->
<!--        <td>@mdo</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--        <th scope="row">2</th>-->
<!--        <td>Jacob</td>-->
<!--        <td>Thornton</td>-->
<!--        <td>@fat</td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--        <th scope="row">3</th>-->
<!--        <td colspan="2">Larry the Bird</td>-->
<!--        <td>@twitter</td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--</table>-->
<!-- list 에서 table 형식으로 좀 더 이쁘게 바꿔볼 예정 -->
<!-- ****************************************************************************************************************************************************************************************************** -->
<div>
    <ul id="gas-station-list"></ul>
</div>

<button type="button" class="btn btn-outline-primary" onclick="openCreateForm()">추가</button>

<form id="createForm" class="invisible">
    <div class="mb-3">
    <label for="gas-station-name" class="col-form-label">주유소명</label>
    <input type="text" class="form-control" id="gas-station-name">
</div>
    <div class="mb-3">
        <label for="gas-station-address" class="col-form-label">주유소 주소</label>
        <textarea class="form-control" id="gas-station-address"></textarea>
    </div>
    <button type="button" class="btn btn-primary" id="save-gas-station-btn" onclick="openCreateForm(); ">추가하기</button>
</form>



<script>

    const reqUrl = "http://localhost:8080/gas-station";
    fetch(reqUrl)
    .then(response => response.json())
    .then((data) => {
        var content = data.content;
        const ulTag = document.getElementById("gas-station-list");

        for(var i = 0; i < content.length; i++){
            const li = document.createElement("li");
            const a = document.createElement("a");

            a.setAttribute('id','gas-station');
            a.setAttribute('name', content[i].gasStationId);
            a.setAttribute('href', 'http://localhost:8080/map/'+content[i].gasStationId);

            a.append(content[i].gasStationName);
            li.append(a);
            ulTag.append(li);
        }
    });

<!--function requestPost(){-->

<!--    const postContent = {-->
<!--        gasStationName : document.getElementById('gas-station-name').value,-->
<!--        gasStationAddress : document.getElementById('gas-station-address').value-->
<!--    };-->

<!--    const list = document.getElementById('gas-station-list');-->
<!--    const newLi = document.createElement("li");-->
<!--    const newA = document.createElement("a");-->

// <!--    const postReqUrl = "http://localhost:8080/gas-station";-->
<!--    fetch(postReqUrl, {-->
<!--            method : "POST",-->
<!--            body : JSON.stringify(postContent),-->
<!--            headers : {-->
<!--                "Content-Type" : "application/json"-->
<!--            }-->
<!--        })-->
<!--        .then(-->
<!--            newA.append(postContent.gasStationName),-->
<!--            newLi.append(newA),-->
<!--            list.appendChild(newLi)-->
<!--        );-->

<!--}-->

    const createBtn = document.getElementById('save-gas-station-btn');
    createBtn.addEventListener('click', () => {

    const postContent = {
        gasStationName : document.getElementById('gas-station-name').value,
        gasStationAddress : document.getElementById('gas-station-address').value
    };

    const list = document.getElementById('gas-station-list');
    const newLi = document.createElement("li");
    const newA = document.createElement("a");

    const postReqUrl = "http://localhost:8080/gas-station";
    fetch(postReqUrl, {
            method : "POST",
            body : JSON.stringify(postContent),
            headers : {
                "Content-Type" : "application/json"
            }
        })
        .then(
            newA.append(postContent.gasStationName),
            newLi.append(newA),
            list.appendChild(newLi)
        );
    });

function openCreateForm(){
    const visibleStatus = document.getElementById('createForm').className;
    if(visibleStatus === 'visible') document.getElementById('createForm').className = 'invisible';
    else document.getElementById('createForm').className = 'visible';
}

</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>
